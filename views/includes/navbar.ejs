

<style>
:root{
  --brand:#002455; --accent:#0b63dd;
  --muted:#7a8694; --bg:#fff; --card:#fff;
  --text:#0f1724; --border:#e6e6e6; --radius:10px;
}


body.dark-mode{
  --bg:#0b1220; --card:#07203a; --text:#eaf2ff;
  --muted:#98a6bf; --border:#12314b;
}


*{ box-sizing:border-box;}
a{ color:inherit; text-decoration:none; }
button{ cursor:pointer; }


.mt-header{
  position:fixed; top:0; left:0; right:0;
  height:64px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 20px; gap:16px;
  background:var(--card);
  border-bottom:1px solid var(--border);
  box-shadow:0 2px 8px rgba(2,6,23,0.06);
  z-index:1100;
}


.logo{ font-size:20px; font-weight:700; color:var(--brand); }


.nav-desktop{ display:flex; align-items:center; gap:28px; }
.nav-desktop a{
  font-weight:500; font-size:15px; padding:6px 8px; border-radius:6px;
}
.nav-desktop a:hover{ background:rgba(3,57,99,0.05); }


/* .search-wrapper{ position:relative; width:260px; border-radius:50px}
.inp-search{
  width:100%; padding:9px 14px; border-radius:50px;
  border:1px solid var(--border); background:var(--bg); color:var(--text);
}
.suggestions{
  position:absolute; top:110%; left:0; right:0;
  background:var(--card);
  border:1px solid var(--border);
  border-radius:8px;
  display:none;
  max-height:240px; overflow:auto;
  z-index:1200;
}
.suggestion-item{ padding:10px 12px; cursor:pointer; }
.suggestion-item:hover{ background:rgba(3,57,99,0.05); } */

.search-wrapper{
  position: relative;
  width: 260px;
}

.inp-search{
  width: 100%;
  padding: 10px 14px;
  border-radius: 8px;   /* ðŸ‘ˆ THIS is the key change */
  border: 1px solid var(--border);
  background: var(--bg);
  color: var(--text);
  outline: none;
}
.inp-search:focus{
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(11,99,221,0.15);
}



/* .create-btn{
  padding:8px 14px; border-radius:8px; background:var(--brand);
  color:white; font-weight:600;
} */
.create-btn{
  padding:6px 12px;          /* smaller */
  border-radius:6px;         /* modern rectangle */
  /* background:#002455; */
  color:black;
  font-size:14px;
  font-weight:600;
  line-height:1;
  white-space:nowrap;
}

.create-btn:hover{
  /* background:#0b63dd; */
}




.hamburger{
  display:none; font-size:28px; border:none; background:none; color:var(--text);
}


.mobile-menu{
  display:none;
  position:fixed;
  top:64px; left:0; right:0;
  background:var(--card);
  border-top:1px solid var(--border);
  padding:18px;
  box-shadow:0 6px 20px rgba(2,6,23,0.06);
  z-index:1099;
  flex-direction:column;
  gap:14px;
}
.mobile-menu.show{ display:flex; }

/* responsive */
@media(max-width:900px){
  .nav-desktop{ display:none; }
  .hamburger{ display:block; }
}

/* .three-dots{
    font-size: 24px;
    cursor: pointer;
    padding: 8px;
} */
 .three-dots {
  position: relative;
  font-size: 24px;
  cursor: pointer;
  padding: 8px;
}

/* hidden text */
.dots-tooltip {
  position: absolute;
  top: 100%;
  right: 0;
  background: #333;
  color: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 10px;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: 0.2s;
  z-index: 1000;
}

/* show on hover */
.three-dots:hover .dots-tooltip {
  opacity: 1;
  visibility: visible;
}

.chat-box {
  position: fixed;
  right: 20px;
  bottom: 20px;
  width: 300px;
  height: 400px;
  background: white;
  border: 1px solid #ccc;
  display: none;
  flex-direction: column;
}

.chat-header {
  background: #4f46e5;
  color: white;
  padding: 10px;
  display: flex;
  justify-content: space-between;
}

.chat-messages {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}

.chat-input {
  display: flex;
}
.chat-input input {
  flex: 1;
}
body{
  padding-top: 64px;
}


</style>

<header class="mt-header" >

  <div class="logo" style="color: #002455; color:inherit; text-decoration:none;">ENGGNOTESCLUB</div>

  <button class="hamburger" onclick="toggleMobile()">â˜°</button>

  <nav class="nav-desktop">

    <div class="search-wrapper">
          <input id="searchBoxDesktop" class="inp-search" placeholder="Search notes...">
          <div id="suggestionsDesktop" class="suggestions"></div>
      </div>

    <a href="/about">About</a>
    <a href="/">Platform</a>
    <a href="/notes/new">Post Notes</a>
    

      

      <div class="header-buttons">
          <% if (!currUser) { %>
              <a class="create-btn" style="color:inherit; text-decoration:none;" href="/signup">Sign Up</a>
              <a class="create-btn" style="color:inherit; text-decoration:none;" href="/login">Log In</a>
            
          <% } else { %>
              <a class="create-btn" style="color:inherit; text-decoration:none;" href="/logout">Log Out</a>
               
          <% } %>
      </div>


    <a class="create-btn" style="color:inherit; text-decoration:none;" href="/ai/tools" >AI Tools</a>


 
<span class="three-dots" onclick="toggleRumbleChat()" ><b>...</b>
    <span class="dots-tooltip">Chat Community</span>
</span>

<button id="themeToggle" class="theme-toggle" title="Toggle theme">
    ðŸŒ™
</button>






</nav>

</header>

<div id="mobileMenu" class="mobile-menu">

  <input id="searchBoxMobile" class="inp-search" placeholder="Search notes...">
  <div id="suggestionsMobile" class="suggestions"></div>
  
  <a href="/about">About</a>
  <a href="/">Platform</a>
  <a href="/notes/new">Post Notes</a>

 

  <% if (!currUser) { %>
      <a href="/signup">Sign Up</a>
      <a href="/login">Log In</a>
  <% } else { %>
      <a href="/logout">Log Out</a>
  <% } %>

  <a class="create-btn" style="color:inherit; text-decoration:none;" href="/ai/tools" >AI Tools</a>


<span class="three-dots" onclick="toggleRumbleChat()" ><b>...</b></span>



</div>





<div id="rumbleChat" 
     style="display:none; position:fixed; right:20px; bottom:20px; z-index:999;
            background:#fff; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.3);">

 
  <div style="text-align:right; padding:5px;">
    <button onclick="toggleRumbleChat()"
            style="border:none; background:none; font-size:18px; cursor:pointer;">
      âœ–
    </button>
  </div>


  <div style="height:500px; width:350px;">
    <div id="rt-98f6097536a88a54cdc3a1a7e4600202"></div>
    <script src="https://rumbletalk.com/client/?BXhC5qU9"></script>
  </div>

</div>

<script>

function toggleMobile(){
  document.getElementById("mobileMenu").classList.toggle("show");
}


async function handleSearch(inputId, suggestionId){
  const box = document.getElementById(inputId);
  const sug = document.getElementById(suggestionId);

  box.addEventListener("input", async () => {
    const q = box.value.trim();
    if(!q){
      sug.style.display = "none";
      return;
    }

    // call backend route
    const res = await fetch(`/search?q=${q}`);
    const data = await res.json();

    sug.innerHTML = "";
    if(data.length === 0){
      sug.style.display = "none";
      return;
    }

    data.forEach(item=>{
      const div = document.createElement("div");
      div.className = "suggestion-item";
      div.textContent = item.title;
      div.onclick = ()=> window.location.href = `/notes/${item._id}`;
      sug.appendChild(div);
    });

    sug.style.display = "block";
  });
}

handleSearch("searchBoxDesktop","suggestionsDesktop");
handleSearch("searchBoxMobile","suggestionsMobile");






function handleSearch(event) {
    if (event.key === "Enter") {
        const q = event.target.value.trim();
        if (q.length > 0) {
            window.location.href = `/search/results?q=${encodeURIComponent(q)}`;
        }
    }
}

document.getElementById("searchBoxDesktop")?.addEventListener("keydown", handleSearch);
document.getElementById("searchBoxMobile")?.addEventListener("keydown", handleSearch);



function toggleRumbleChat() {
  const chat = document.getElementById("rumbleChat");
  chat.style.display = chat.style.display === "none" ? "block" : "none";
}


</script>


















